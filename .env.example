# Environment Configuration
# Copy this file to .env and fill in the values.
# PROD (Vercel): Set all vars in Project Settings > Environment Variables.

# ===========================================
# DATABASE (PostgreSQL / Neon)
# ===========================================
# DATABASE_URL: Neon pooled/pgbouncer (runtime, serverless-friendly)
# DIRECT_URL: Neon direct (migrations, no pooler)
# UWAGA: hasla ze znakami specjalnymi musza byc URL-encoded w connection string.
DATABASE_URL=
DIRECT_URL=

# ===========================================
# AUTHENTICATION
# ===========================================
# Required for NextAuth. Use canonical domain (e.g. https://www.adaptivai.online).
NEXTAUTH_URL=
NEXTAUTH_SECRET=

# ===========================================
# BILLING (STRIPE)
# ===========================================
# Canonical base URL for redirects (e.g. https://www.adaptivai.online). Used by checkout, portal, webhook.
APP_URL=
# Optional: client-side base URL (e.g. https://www.adaptivai.online) when different from NEXTAUTH_URL.
NEXT_PUBLIC_APP_URL=
STRIPE_SECRET_KEY=
STRIPE_WEBHOOK_SECRET=

# Trial: 7 or 14 days (configurable)
TRIAL_DAYS="14"

# Stripe Price IDs for Checkout (subscription recurring). Must be Price IDs (id starts with price_), NOT Product IDs (prod_).
# Use test mode price IDs with Stripe test keys; use live price IDs with live keys.
PRO_PRICE_ID_MONTHLY=              # Monthly Pro subscription (price_xxx)
PRO_PRICE_ID_YEARLY=               # Optional: yearly Pro (price_xxx, for toggle in UI)

# Legacy (fallback)
STRIPE_PRICE_ID_PRO=            # Monthly fallback if PRO_PRICE_ID_MONTHLY not set (price_xxx)
STRIPE_PRICE_ID_PRO_YEAR=       # Yearly plan price ID (price_xxx, for Monthly/Yearly toggle)
STRIPE_PRODUCT_ID_PRO=          # Product ID only for reference; checkout uses Price IDs above
BILLING_GRACE_DAYS="3"

# ===========================================
# ENVIRONMENT
# ===========================================
# Used by LLM-backed AI Coach (server actions)
OPENAI_API_KEY=
# Coach system prompt: raw = minimal (debug), guided = full behavior pack (default: raw)
COACH_MODE=raw

# Used by internal cron/job endpoints (/api/internal/cron/*)
# Required in production (min 16 chars) - set in Vercel env vars
INTERNAL_CRON_SECRET=

# Admin: comma-separated emails for admin users (Settings > Billing Tools, /api/admin/billing/resync)
ADMIN_EMAILS=
# Optional: secret for admin API (defaults to INTERNAL_CRON_SECRET). Min 16 chars.
ADMIN_ACTIONS_SECRET=

# Optional: Weekly digest email (Resend)
# Set RESEND_API_KEY + EMAIL_FROM in Vercel for digest emails
RESEND_API_KEY=
EMAIL_FROM="AdaptivAI <onboarding@resend.dev>"

# Set to "production" on Vercel
NODE_ENV="development"

# ===========================================
# MONITORING (SENTRY)
# ===========================================
# Required for error monitoring; disabled gracefully when not set
SENTRY_DSN=
NEXT_PUBLIC_SENTRY_DSN=  # Optional: same as SENTRY_DSN for client
SENTRY_AUTH_TOKEN=      # Optional: for source map uploads in CI
SENTRY_ORG=             # Optional: Sentry org slug
SENTRY_PROJECT=         # Optional: Sentry project slug
SENTRY_ENVIRONMENT=     # Optional: default production
